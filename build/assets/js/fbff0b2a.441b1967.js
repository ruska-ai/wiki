"use strict";(self.webpackChunkorchestra_docs=self.webpackChunkorchestra_docs||[]).push([[730],{3925(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var s=t(4848),r=t(8453);const o={title:"MCP",slug:"/tools/mcp"},i="Model Context Protocol (MCP)",a={id:"tools/mcp",title:"MCP",description:"Join Discord",source:"@site/docs/tools/mcp.md",sourceDirName:"tools",slug:"/tools/mcp",permalink:"/docs/tools/mcp",draft:!1,unlisted:!1,editUrl:"https://github.com/ruska-ai/orchestra/edit/main/docs/docs/tools/mcp.md",tags:[],version:"current",frontMatter:{title:"MCP",slug:"/tools/mcp"},sidebar:"docs",previous:{title:"Search",permalink:"/docs/tools/search"},next:{title:"A2A",permalink:"/docs/tools/a2a"}},c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"How MCP Configuration Works",id:"how-mcp-configuration-works",level:2},{value:"Granular Tool Selection",id:"granular-tool-selection",level:3},{value:"Example API Usage:",id:"example-api-usage",level:2},{value:"GET MCP server information",id:"get-mcp-server-information",level:4},{value:"Request: <code>Create New Thread</code>",id:"request-create-new-thread",level:4},{value:"Response JSON: <code>Create New Thread</code>",id:"response-json-create-new-thread",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsxs)(n.h1,{id:"model-context-protocol-mcp",children:["Model Context Protocol ",(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/introduction",children:"(MCP)"})]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://discord.com/invite/QRfjg4YNzU",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/badge/Join-Discord-purple",alt:"Join Discord"})}),"\n",(0,s.jsx)(n.a,{href:"https://orchestra.ruska.ai/api",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/badge/View-API%20Docs-blue",alt:"View API Docs"})}),"\n",(0,s.jsx)(n.a,{href:"https://ruska.ai/socials",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/badge/Follow-Social-black",alt:"Follow Social"})})]}),"\n",(0,s.jsx)(n.admonition,{title:"Actively Evolving",type:"info",children:(0,s.jsx)(n.p,{children:"MCP integration is actively being enhanced with new features and capabilities. This documentation reflects the current implementation and is updated regularly."})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/introduction",children:"MCP"})," is an open protocol that standardizes how applications provide context to LLMs. Think of MCP like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect your devices to various peripherals and accessories, MCP provides a standardized way to connect AI models to different data sources and tools."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ryaneggz/static/blob/main/enso/mcp-enable.gif?raw=true",alt:"Landing Page"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:["Ruska Labs MCP support is based on the ",(0,s.jsx)(n.a,{href:"https://github.com/langchain-ai/langchain-mcp-adapters",children:"Langchain MCP Adapter"})," repository. A sample MCP server can be found at ",(0,s.jsx)(n.a,{href:"https://github.com/ruska-ai/mcp-sse",children:"Ruska Labs - MCP SSE Server"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["See this ",(0,s.jsx)(n.a,{href:"https://github.com/ruska-ai/mcp-sse/blob/caa79bee4af4914d729ef1989156b66966121d80/main.py#L22-L27",children:"permalink"})," for an example for how to include ",(0,s.jsx)(n.code,{children:"x-mcp-key"})," authentication."]}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Open the Tool Selector modal then click the icon that displays the ",(0,s.jsx)(n.strong,{children:"Add MCP Configuration"})," panel."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ryaneggz/static/blob/main/enso/configure-mcp.png?raw=true",alt:"Configure MCP"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Edit the default MCP Configuration displayed in the JSON Editor. When finished press the ",(0,s.jsx)(n.strong,{children:"Save Configuration"})," at the bottom of the panel."]}),"\n",(0,s.jsxs)(n.p,{children:["This will store the configuration in your ",(0,s.jsx)(n.code,{children:"localStorage"})," with the key ",(0,s.jsx)(n.code,{children:"mcp-config"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ryaneggz/static/blob/main/enso/mcp-editor.png?raw=true",alt:"Edit Configuration"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["After ",(0,s.jsx)(n.strong,{children:"Save Configuration"})," you should see the MCP server tool information fetched from the defined MCP servers."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ryaneggz/static/blob/main/enso/mcp-info.png?raw=true",alt:"MCP Info"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Now that the configuration is saved, close the panel, edit the input, and click submit. You will see tool executions appear in the Thread following the User message and before the AI response."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ryaneggz/static/blob/main/enso/mcp-query.png?raw=true",alt:"MCP Query"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click on the ToolMessage to view its execution details."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ryaneggz/static/blob/main/enso/mcp-toolcall.png?raw=true",alt:"MCP Tool Execution"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"how-mcp-configuration-works",children:"How MCP Configuration Works"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"mcp"})," property accepts a ",(0,s.jsx)(n.strong,{children:"dictionary of server names"})," mapped to their configurations. This allows you to connect multiple MCP servers simultaneously:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "mcp": {\n        "server_name_1": {\n            "transport": "sse",\n            "url": "https://mcp-server1.example.com",\n            "headers": {\n                "x-mcp-key": "your_key_1"\n            }\n        },\n        "server_name_2": {\n            "transport": "sse",\n            "url": "https://mcp-server2.example.com",\n            "headers": {\n                "x-mcp-key": "your_key_2"\n            }\n        }\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Each key in the ",(0,s.jsx)(n.code,{children:"mcp"})," dictionary is a unique server name you choose (e.g., ",(0,s.jsx)(n.code,{children:'"weather_server"'}),", ",(0,s.jsx)(n.code,{children:'"database_server"'}),", ",(0,s.jsx)(n.code,{children:'"ruska_mcp"'}),")."]}),"\n",(0,s.jsx)(n.h3,{id:"granular-tool-selection",children:"Granular Tool Selection"}),"\n",(0,s.jsxs)(n.p,{children:["Once MCP servers are configured, you can selectively enable specific tools from those servers using the ",(0,s.jsx)(n.code,{children:"tools"})," property:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "query": "Get the weather in Denver",\n    "model": "anthropic:claude-sonnet-4-5",\n    "mcp": {\n        "weather_server": {\n            "transport": "sse",\n            "url": "https://weather-mcp.example.com"\n        },\n        "database_server": {\n            "transport": "sse",\n            "url": "https://db-mcp.example.com"\n        }\n    },\n    "tools": [\n        "get_weather", // From weather_server\n        "get_forecast", // From weather_server\n        "query_database", // From database_server\n        "search" // Built-in platform tool\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Benefits of Granular Tool Selection:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Load multiple MCP servers"})," at once without enabling all their tools"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Restrict assistants"})," to specific tools from those servers for better security"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mix MCP tools"})," with built-in platform tools like ",(0,s.jsx)(n.code,{children:"search"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Better performance"})," through selective tool access - fewer tools means faster inference"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example with Assistants:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X \'POST\' \\\n  \'https://orchestra.ruska.ai/api/assistant\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "name": "Weather Assistant",\n  "instructions": "You are a weather information assistant.",\n  "model": "anthropic:claude-sonnet-4-5",\n  "mcp": {\n    "weather_server": {\n      "transport": "sse",\n      "url": "https://weather-mcp.example.com"\n    }\n  },\n  "tools": ["get_weather", "search"]\n}\'\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This assistant has access to the ",(0,s.jsx)(n.code,{children:"get_weather"})," tool from the MCP server and the built-in ",(0,s.jsx)(n.code,{children:"search"})," tool, but NOT other tools the weather server might expose."]}),"\n",(0,s.jsxs)(n.h2,{id:"example-api-usage",children:["Example ",(0,s.jsx)(n.a,{href:"https://orchestra.ruska.ai/api#/Thread/Create_New_Thread_api_threads_post",children:"API Usage"}),":"]}),"\n",(0,s.jsx)(n.h4,{id:"get-mcp-server-information",children:"GET MCP server information"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X \'POST\' \\\n  \'https://orchestra.ruska.ai/api/tools/mcp/info\' \\\n  -H \'accept: application/json\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "mcp": {\n    "ruska_mcp": {\n      "headers": {\n        "x-api-key": "your_api_key"\n      },\n      "transport": "streamable_http",\n      "url": "https://mcp.ruska.ai/sse"\n    }\n  }\n}\'\n'})}),"\n",(0,s.jsxs)(n.h4,{id:"request-create-new-thread",children:["Request: ",(0,s.jsx)(n.code,{children:"Create New Thread"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X \'POST\' \\\n  \'https://orchestra.ruska.ai/api/llm/thread\' \\\n  -H \'accept: application/json\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "images": [],\n  "mcp": {\n    "ruska_mcp": {\n      "headers": {  \n        "x-api-key": "your_api_key"\n      },\n      "transport": "http",\n      "url": "https://chat.ruska.ai/mcp"\n    }\n  },\n  "model": "openai-gpt-4o",\n  "query": "What is the latest Bitcoin price? Use search.",\n  "system": "You are a helpful assistant.",\n  "tools": []\n}\' | jq\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"response-json-create-new-thread",children:["Response JSON: ",(0,s.jsx)(n.code,{children:"Create New Thread"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "thread_id": "698e540b-8ae3-4db7-b5c5-526c438c4266",\n    "answer": {\n        "content": "The latest price of Bitcoin appears to vary among the sources. According to a search result from Yahoo Finance, the last known price of Bitcoin is approximately $97,305.19 per BTC, while a result from Coinbase lists Bitcoin at $88,316.34 per BTC. Prices can vary slightly between exchanges due to different market conditions. For the most accurate and current price, you might want to check a live cryptocurrency exchange platform like [Coinbase](https://www.coinbase.com/price/bitcoin) or [Yahoo Finance](https://finance.yahoo.com/quote/BTC-USD/)."\n        //... Response Metadata\n    }\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);